import { __rest } from "tslib";
import axios from 'axios';
export default (settings) => {
    const { apiKey } = settings, axiosConfig = __rest(settings, ["apiKey"]);
    const instance = axios.create(axiosConfig);
    instance.interceptors.request.use(options => {
        options.headers.Authorization = apiKey;
        return options;
    });
    instance.interceptors.response.use(response => response, error => {
        if (axios.isAxiosError(error) && error.response && error.response.data)
            throw error.response.data;
        throw error;
    });
    return instance;
};
//# sourceMappingURL=axios-instance.js.map